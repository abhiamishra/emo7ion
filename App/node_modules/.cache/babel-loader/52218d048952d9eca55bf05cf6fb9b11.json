{"ast":null,"code":"var _jsxFileName = \"/Users/akshitaanand/Documents/GitHub/emotion/App/src/pages/TFToVideo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport 'index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet model;\nexport default function TFToVideo(props) {\n  _s();\n\n  const [childElementSize, setChildElementSize] = useState({\n    width: 100,\n    height: 70\n  });\n  const canvasRef = useRef();\n  const contextRef = useRef();\n  const canvasOnVideoRef = useRef();\n  const contextOnVideoRef = useRef();\n  useEffect(() => {\n    window.addEventListener('resize', initiateResizeFunction, false);\n\n    async function init() {\n      model = await window.blazeface.load();\n      console.log('model >', model);\n    }\n\n    init();\n    initializeCanvas();\n    initiateResizeFunction();\n    return () => {\n      window.removeEventListener('resize', initiateResizeFunction);\n    };\n  }, []);\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      loadDataProccessing();\n    }, 200);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [childElementSize]);\n\n  const initiateResizeFunction = () => {\n    const videoElement = document.getElementById(props.videoId);\n    const width = videoElement.offsetWidth;\n    const height = videoElement.offsetHeight;\n    document.getElementById('hiddenCanvas').style.width = `${width}px`;\n    document.getElementById('hiddenCanvas').style.height = `${height}px`;\n    document.getElementById('onTopCanvas').style.width = `${width}px`;\n    document.getElementById('onTopCanvas').style.height = `${height}px`;\n    canvasRef.current.width = width;\n    canvasRef.current.height = height;\n    canvasRef.current.style.width = width;\n    canvasRef.current.style.height = height;\n    canvasOnVideoRef.current.width = width;\n    canvasOnVideoRef.current.height = height;\n    canvasOnVideoRef.current.style.width = width;\n    canvasOnVideoRef.current.style.height = height;\n    contextOnVideoRef.current.lineCap = 'round';\n    contextOnVideoRef.current.strokeStyle = 'green';\n    contextOnVideoRef.current.lineWidth = 5; // console.log('hey', canvasRef.current.width, canvasRef.current.height);\n\n    setChildElementSize({\n      width,\n      height\n    });\n  };\n\n  const initializeCanvas = () => {\n    const canvas = canvasRef.current;\n    canvas.width = childElementSize.width;\n    canvas.height = childElementSize.height;\n    canvas.style.width = `${childElementSize.width}px`;\n    canvas.style.height = `${childElementSize.height}px`;\n    const context = canvas.getContext('2d');\n    context.scale(2, 2);\n    context.lineCap = 'round';\n    context.strokeStyle = 'green';\n    context.lineWidth = 5;\n    contextRef.current = context;\n    const canvasOnVideo = canvasOnVideoRef.current;\n    canvasOnVideo.width = childElementSize.width * 2;\n    canvasOnVideo.height = childElementSize.height * 2;\n    canvasOnVideo.style.width = `${childElementSize.width}px`;\n    canvasOnVideo.style.height = `${childElementSize.height}px`;\n    const contextOnVideo = canvasOnVideo.getContext('2d');\n    contextOnVideo.scale(2, 2);\n    contextOnVideo.lineCap = 'round';\n    contextOnVideo.strokeStyle = 'green';\n    contextOnVideo.lineWidth = 5;\n    contextOnVideoRef.current = contextOnVideo;\n  };\n\n  const takePhoto = async () => {\n    const video = document.querySelector('video');\n    await contextRef.current.drawImage(video, 0, 0, childElementSize.width, childElementSize.height);\n    var data = canvasRef.current.toDataURL('image/png');\n    console.log(data);\n    var photo = document.getElementById('imageTag');\n    photo.setAttribute('src', data);\n  };\n\n  const loadDataProccessing = async () => {\n    const returnTensors = false;\n    await takePhoto();\n\n    if (model) {\n      const predictions = await model.estimateFaces(document.querySelector('img'), returnTensors);\n\n      if (predictions.length > 0) {\n        for (let i = 0; i < predictions.length; i++) {\n          const start = predictions[i].topLeft;\n          const end = predictions[i].bottomRight;\n          const size = [end[0] - start[0], end[1] - start[1]]; // console.log(canvasRef.current.width, canvasRef.current.height);\n\n          console.log(start[0], start[1], size[0], size[1]); // Render a rectangle over each detected face.\n\n          contextOnVideoRef.current.clearRect(0, 0, childElementSize.width, childElementSize.height);\n          contextOnVideoRef.current.beginPath();\n          contextOnVideoRef.current.rect(start[0], start[1], size[0], size[1]);\n          contextOnVideoRef.current.stroke();\n          contextOnVideoRef.current.closePath();\n        }\n      }\n    } else {\n      console.log('no model');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [props.children, /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"\",\n      alt: \"\",\n      id: \"imageTag\",\n      width: `${childElementSize.width}`,\n      height: `${childElementSize.height}`,\n      hidden: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"hiddenCanvas\",\n      ref: canvasRef,\n      hidden: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"onTopCanvas\",\n      className: \"topCanvas\",\n      ref: canvasOnVideoRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TFToVideo, \"BaNecWf6hqNxD9jsl+su1xSr6LI=\");\n\n_c = TFToVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"TFToVideo\");","map":{"version":3,"sources":["/Users/akshitaanand/Documents/GitHub/emotion/App/src/pages/TFToVideo.js"],"names":["React","useEffect","useRef","useState","model","TFToVideo","props","childElementSize","setChildElementSize","width","height","canvasRef","contextRef","canvasOnVideoRef","contextOnVideoRef","window","addEventListener","initiateResizeFunction","init","blazeface","load","console","log","initializeCanvas","removeEventListener","interval","setInterval","loadDataProccessing","clearInterval","videoElement","document","getElementById","videoId","offsetWidth","offsetHeight","style","current","lineCap","strokeStyle","lineWidth","canvas","context","getContext","scale","canvasOnVideo","contextOnVideo","takePhoto","video","querySelector","drawImage","data","toDataURL","photo","setAttribute","returnTensors","predictions","estimateFaces","length","i","start","topLeft","end","bottomRight","size","clearRect","beginPath","rect","stroke","closePath","children"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport 'index.css'\nlet model;\nexport default function TFToVideo(props) {\n  const [childElementSize, setChildElementSize] = useState({\n    width: 100,\n    height: 70,\n  });\n  const canvasRef = useRef();\n  const contextRef = useRef();\n\n  const canvasOnVideoRef = useRef();\n  const contextOnVideoRef = useRef();\n\n  useEffect(() => {\n    window.addEventListener('resize', initiateResizeFunction, false);\n    async function init() {\n      model = await window.blazeface.load();\n      console.log('model >', model);\n    }\n    init();\n    initializeCanvas();\n    initiateResizeFunction();\n    return () => {\n      window.removeEventListener('resize', initiateResizeFunction);\n    };\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      loadDataProccessing();\n    }, 200);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [childElementSize]);\n\n  const initiateResizeFunction = () => {\n    const videoElement = document.getElementById(props.videoId);\n    const width = videoElement.offsetWidth;\n    const height = videoElement.offsetHeight;\n    document.getElementById('hiddenCanvas').style.width = `${width}px`;\n    document.getElementById('hiddenCanvas').style.height = `${height}px`;\n    document.getElementById('onTopCanvas').style.width = `${width}px`;\n    document.getElementById('onTopCanvas').style.height = `${height}px`;\n    canvasRef.current.width = width;\n    canvasRef.current.height = height;\n    canvasRef.current.style.width = width;\n    canvasRef.current.style.height = height;\n    canvasOnVideoRef.current.width = width;\n    canvasOnVideoRef.current.height = height;\n    canvasOnVideoRef.current.style.width = width;\n    canvasOnVideoRef.current.style.height = height;\n    contextOnVideoRef.current.lineCap = 'round';\n    contextOnVideoRef.current.strokeStyle = 'green';\n    contextOnVideoRef.current.lineWidth = 5;\n    // console.log('hey', canvasRef.current.width, canvasRef.current.height);\n    setChildElementSize({ width, height });\n  };\n  const initializeCanvas = () => {\n    const canvas = canvasRef.current;\n    canvas.width = childElementSize.width;\n    canvas.height = childElementSize.height;\n    canvas.style.width = `${childElementSize.width}px`;\n    canvas.style.height = `${childElementSize.height}px`;\n    const context = canvas.getContext('2d');\n    context.scale(2, 2);\n    context.lineCap = 'round';\n    context.strokeStyle = 'green';\n    context.lineWidth = 5;\n    contextRef.current = context;\n\n    const canvasOnVideo = canvasOnVideoRef.current;\n    canvasOnVideo.width = childElementSize.width * 2;\n    canvasOnVideo.height = childElementSize.height * 2;\n    canvasOnVideo.style.width = `${childElementSize.width}px`;\n    canvasOnVideo.style.height = `${childElementSize.height}px`;\n    const contextOnVideo = canvasOnVideo.getContext('2d');\n    contextOnVideo.scale(2, 2);\n    contextOnVideo.lineCap = 'round';\n    contextOnVideo.strokeStyle = 'green';\n    contextOnVideo.lineWidth = 5;\n    contextOnVideoRef.current = contextOnVideo;\n  };\n  const takePhoto = async () => {\n    const video = document.querySelector('video');\n    await contextRef.current.drawImage(\n      video,\n      0,\n      0,\n      childElementSize.width,\n      childElementSize.height\n    );\n    var data = canvasRef.current.toDataURL('image/png');\n    console.log(data)\n    var photo = document.getElementById('imageTag');\n    photo.setAttribute('src', data);\n  };\n\n  const loadDataProccessing = async () => {\n    const returnTensors = false;\n    await takePhoto();\n    if (model) {\n      const predictions = await model.estimateFaces(\n        document.querySelector('img'),\n        returnTensors\n      );\n      if (predictions.length > 0) {\n        for (let i = 0; i < predictions.length; i++) {\n          const start = predictions[i].topLeft;\n          const end = predictions[i].bottomRight;\n          const size = [end[0] - start[0], end[1] - start[1]];\n          // console.log(canvasRef.current.width, canvasRef.current.height);\n          console.log(start[0], start[1], size[0], size[1]);\n          // Render a rectangle over each detected face.\n          contextOnVideoRef.current.clearRect(\n            0,\n            0,\n            childElementSize.width,\n            childElementSize.height\n          );\n          contextOnVideoRef.current.beginPath();\n          contextOnVideoRef.current.rect(start[0], start[1], size[0], size[1]);\n          contextOnVideoRef.current.stroke();\n          contextOnVideoRef.current.closePath();\n        }\n      }\n    } else {\n      console.log('no model');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {props.children}\n      <img\n        src=\"\"\n        alt=\"\"\n        id=\"imageTag\"\n        width={`${childElementSize.width}`}\n        height={`${childElementSize.height}`}\n        hidden\n      />\n      <canvas id=\"hiddenCanvas\" ref={canvasRef} hidden></canvas>\n      <canvas\n        id=\"onTopCanvas\"\n        className=\"topCanvas\"\n        ref={canvasOnVideoRef}\n      ></canvas>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}