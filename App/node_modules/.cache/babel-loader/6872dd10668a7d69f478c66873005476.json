{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\n    Helper Modules\n*/\n\nvar uuid_1 = require(\"uuid\");\n\nvar crypto_1 = __importDefault(require(\"crypto\"));\n\nvar DEFAULT_TIME_DIFF = 60 * 30;\n\nvar getAuthenticationParameters = function (token, expire, defaultOptions) {\n  var defaultExpire = parseInt(String(new Date().getTime() / 1000), 10) + DEFAULT_TIME_DIFF;\n  var authParameters = {\n    token: token || \"\",\n    expire: expire || 0,\n    signature: \"\"\n  };\n  if (!defaultOptions || !defaultOptions.privateKey) return authParameters;\n  token = token || uuid_1.v4();\n  expire = expire || defaultExpire;\n  var signature = crypto_1.default.createHmac(\"sha1\", defaultOptions.privateKey).update(token + expire).digest(\"hex\");\n  authParameters.token = token;\n  authParameters.expire = expire;\n  authParameters.signature = signature;\n  return authParameters;\n};\n\nexports.default = {\n  getAuthenticationParameters: getAuthenticationParameters\n};","map":{"version":3,"sources":["/Users/akshitaanand/Documents/GitHub/emotion/App/node_modules/imagekit/dist/libs/signature/index.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","uuid_1","require","crypto_1","DEFAULT_TIME_DIFF","getAuthenticationParameters","token","expire","defaultOptions","defaultExpire","parseInt","String","Date","getTime","authParameters","signature","privateKey","v4","default","createHmac","update","digest"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACA;AACA;AACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAIC,QAAQ,GAAGT,eAAe,CAACQ,OAAO,CAAC,QAAD,CAAR,CAA9B;;AACA,IAAIE,iBAAiB,GAAG,KAAK,EAA7B;;AACA,IAAIC,2BAA2B,GAAG,UAAUC,KAAV,EAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AACvE,MAAIC,aAAa,GAAGC,QAAQ,CAACC,MAAM,CAAC,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAAxB,CAAP,EAAsC,EAAtC,CAAR,GAAoDT,iBAAxE;AACA,MAAIU,cAAc,GAAG;AACjBR,IAAAA,KAAK,EAAEA,KAAK,IAAI,EADC;AAEjBC,IAAAA,MAAM,EAAEA,MAAM,IAAI,CAFD;AAGjBQ,IAAAA,SAAS,EAAE;AAHM,GAArB;AAKA,MAAI,CAACP,cAAD,IAAmB,CAACA,cAAc,CAACQ,UAAvC,EACI,OAAOF,cAAP;AACJR,EAAAA,KAAK,GAAGA,KAAK,IAAIL,MAAM,CAACgB,EAAP,EAAjB;AACAV,EAAAA,MAAM,GAAGA,MAAM,IAAIE,aAAnB;AACA,MAAIM,SAAS,GAAGZ,QAAQ,CAACe,OAAT,CACXC,UADW,CACA,MADA,EACQX,cAAc,CAACQ,UADvB,EAEXI,MAFW,CAEJd,KAAK,GAAGC,MAFJ,EAGXc,MAHW,CAGJ,KAHI,CAAhB;AAIAP,EAAAA,cAAc,CAACR,KAAf,GAAuBA,KAAvB;AACAQ,EAAAA,cAAc,CAACP,MAAf,GAAwBA,MAAxB;AACAO,EAAAA,cAAc,CAACC,SAAf,GAA2BA,SAA3B;AACA,SAAOD,cAAP;AACH,CAnBD;;AAoBAf,OAAO,CAACmB,OAAR,GAAkB;AAAEb,EAAAA,2BAA2B,EAAEA;AAA/B,CAAlB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n    Helper Modules\n*/\nvar uuid_1 = require(\"uuid\");\nvar crypto_1 = __importDefault(require(\"crypto\"));\nvar DEFAULT_TIME_DIFF = 60 * 30;\nvar getAuthenticationParameters = function (token, expire, defaultOptions) {\n    var defaultExpire = parseInt(String(new Date().getTime() / 1000), 10) + DEFAULT_TIME_DIFF;\n    var authParameters = {\n        token: token || \"\",\n        expire: expire || 0,\n        signature: \"\",\n    };\n    if (!defaultOptions || !defaultOptions.privateKey)\n        return authParameters;\n    token = token || uuid_1.v4();\n    expire = expire || defaultExpire;\n    var signature = crypto_1.default\n        .createHmac(\"sha1\", defaultOptions.privateKey)\n        .update(token + expire)\n        .digest(\"hex\");\n    authParameters.token = token;\n    authParameters.expire = expire;\n    authParameters.signature = signature;\n    return authParameters;\n};\nexports.default = { getAuthenticationParameters: getAuthenticationParameters };\n"]},"metadata":{},"sourceType":"script"}