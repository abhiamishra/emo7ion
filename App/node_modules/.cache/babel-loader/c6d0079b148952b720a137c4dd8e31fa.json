{"ast":null,"code":"export function createFileSystem(fs) {\n  var requireFsError = '';\n\n  if (!fs) {\n    try {\n      fs = require('fs');\n    } catch (err) {\n      requireFsError = err.toString();\n    }\n  }\n\n  var readFile = fs ? function (filePath) {\n    return new Promise(function (res, rej) {\n      fs.readFile(filePath, function (err, buffer) {\n        return err ? rej(err) : res(buffer);\n      });\n    });\n  } : function () {\n    throw new Error(\"readFile - failed to require fs in nodejs environment with error: \" + requireFsError);\n  };\n  return {\n    readFile: readFile\n  };\n}","map":{"version":3,"mappings":"AAEA,OAAM,SAAUA,gBAAV,CAA2BC,EAA3B,EAAmC;AAEvC,MAAIC,cAAc,GAAG,EAArB;;AAEA,MAAI,CAACD,EAAL,EAAS;AACP,QAAI;AACFA,QAAE,GAAGE,OAAO,CAAC,IAAD,CAAZ;AACD,KAFD,CAEE,OAAOC,GAAP,EAAY;AACZF,oBAAc,GAAGE,GAAG,CAACC,QAAJ,EAAjB;AACD;AACF;;AAED,MAAMC,QAAQ,GAAGL,EAAE,GACf,UAASM,QAAT,EAAyB;AACzB,WAAO,IAAIC,OAAJ,CAAoB,UAACC,GAAD,EAAMC,GAAN,EAAS;AAClCT,QAAE,CAACK,QAAH,CAAYC,QAAZ,EAAsB,UAASH,GAAT,EAAmBO,MAAnB,EAAiC;AACrD,eAAOP,GAAG,GAAGM,GAAG,CAACN,GAAD,CAAN,GAAcK,GAAG,CAACE,MAAD,CAA3B;AACD,OAFD;AAGD,KAJM,CAAP;AAKD,GAPgB,GAQf;AACA,UAAM,IAAIC,KAAJ,CAAU,uEAAqEV,cAA/E,CAAN;AACD,GAVH;AAYA,SAAO;AACLI,YAAQ;AADH,GAAP;AAGD","names":["createFileSystem","fs","requireFsError","require","err","toString","readFile","filePath","Promise","res","rej","buffer","Error"],"sources":["../../../src/env/createFileSystem.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}