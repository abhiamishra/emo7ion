{"ast":null,"code":"import { FaceLandmarks } from '../classes/FaceLandmarks';\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\nimport { getContext2dOrThrow } from '../dom/getContext2dOrThrow';\nimport { isWithFaceLandmarks } from '../factories/WithFaceLandmarks';\nimport { drawContour } from './drawContour';\n\nvar DrawFaceLandmarksOptions =\n/** @class */\nfunction () {\n  function DrawFaceLandmarksOptions(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _a = options.drawLines,\n        drawLines = _a === void 0 ? true : _a,\n        _b = options.drawPoints,\n        drawPoints = _b === void 0 ? true : _b,\n        lineWidth = options.lineWidth,\n        lineColor = options.lineColor,\n        pointSize = options.pointSize,\n        pointColor = options.pointColor;\n    this.drawLines = drawLines;\n    this.drawPoints = drawPoints;\n    this.lineWidth = lineWidth || 1;\n    this.pointSize = pointSize || 2;\n    this.lineColor = lineColor || 'rgba(0, 255, 255, 1)';\n    this.pointColor = pointColor || 'rgba(255, 0, 255, 1)';\n  }\n\n  return DrawFaceLandmarksOptions;\n}();\n\nexport { DrawFaceLandmarksOptions };\n\nvar DrawFaceLandmarks =\n/** @class */\nfunction () {\n  function DrawFaceLandmarks(faceLandmarks, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.faceLandmarks = faceLandmarks;\n    this.options = new DrawFaceLandmarksOptions(options);\n  }\n\n  DrawFaceLandmarks.prototype.draw = function (canvasArg) {\n    var ctx = getContext2dOrThrow(canvasArg);\n    var _a = this.options,\n        drawLines = _a.drawLines,\n        drawPoints = _a.drawPoints,\n        lineWidth = _a.lineWidth,\n        lineColor = _a.lineColor,\n        pointSize = _a.pointSize,\n        pointColor = _a.pointColor;\n\n    if (drawLines && this.faceLandmarks instanceof FaceLandmarks68) {\n      ctx.strokeStyle = lineColor;\n      ctx.lineWidth = lineWidth;\n      drawContour(ctx, this.faceLandmarks.getJawOutline());\n      drawContour(ctx, this.faceLandmarks.getLeftEyeBrow());\n      drawContour(ctx, this.faceLandmarks.getRightEyeBrow());\n      drawContour(ctx, this.faceLandmarks.getNose());\n      drawContour(ctx, this.faceLandmarks.getLeftEye(), true);\n      drawContour(ctx, this.faceLandmarks.getRightEye(), true);\n      drawContour(ctx, this.faceLandmarks.getMouth(), true);\n    }\n\n    if (drawPoints) {\n      ctx.strokeStyle = pointColor;\n      ctx.fillStyle = pointColor;\n\n      var drawPoint = function (pt) {\n        ctx.beginPath();\n        ctx.arc(pt.x, pt.y, pointSize, 0, 2 * Math.PI);\n        ctx.fill();\n      };\n\n      this.faceLandmarks.positions.forEach(drawPoint);\n    }\n  };\n\n  return DrawFaceLandmarks;\n}();\n\nexport { DrawFaceLandmarks };\nexport function drawFaceLandmarks(canvasArg, faceLandmarks) {\n  var faceLandmarksArray = Array.isArray(faceLandmarks) ? faceLandmarks : [faceLandmarks];\n  faceLandmarksArray.forEach(function (f) {\n    var landmarks = f instanceof FaceLandmarks ? f : isWithFaceLandmarks(f) ? f.landmarks : undefined;\n\n    if (!landmarks) {\n      throw new Error('drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof');\n    }\n\n    new DrawFaceLandmarks(landmarks).draw(canvasArg);\n  });\n}","map":{"version":3,"mappings":"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","names":["FaceLandmarks","FaceLandmarks68","getContext2dOrThrow","isWithFaceLandmarks","drawContour","options","_b","drawPoints","lineWidth","lineColor","pointSize","pointColor","drawLines","faceLandmarks","DrawFaceLandmarksOptions","DrawFaceLandmarks","canvasArg","ctx","strokeStyle","getJawOutline","getLeftEyeBrow","getRightEyeBrow","getNose","getLeftEye","getRightEye","getMouth","fillStyle","drawPoint","pt","beginPath","arc","x","y","Math","PI","fill","positions","forEach","drawFaceLandmarks","faceLandmarksArray","Array","isArray","landmarks","f","undefined","Error","draw"],"sources":["../../../src/draw/DrawFaceLandmarks.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}