{"ast":null,"code":"import { Point } from '../classes';\nimport { FaceExpressions } from '../faceExpressionNet';\nimport { isWithFaceDetection } from '../factories/WithFaceDetection';\nimport { isWithFaceExpressions } from '../factories/WithFaceExpressions';\nimport { round } from '../utils';\nimport { DrawTextField } from './DrawTextField';\nexport function drawFaceExpressions(canvasArg, faceExpressions, minConfidence, textFieldAnchor) {\n  if (minConfidence === void 0) {\n    minConfidence = 0.1;\n  }\n\n  var faceExpressionsArray = Array.isArray(faceExpressions) ? faceExpressions : [faceExpressions];\n  faceExpressionsArray.forEach(function (e) {\n    var expr = e instanceof FaceExpressions ? e : isWithFaceExpressions(e) ? e.expressions : undefined;\n\n    if (!expr) {\n      throw new Error('drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof');\n    }\n\n    var sorted = expr.asSortedArray();\n    var resultsToDisplay = sorted.filter(function (expr) {\n      return expr.probability > minConfidence;\n    });\n    var anchor = isWithFaceDetection(e) ? e.detection.box.bottomLeft : textFieldAnchor || new Point(0, 0);\n    var drawTextField = new DrawTextField(resultsToDisplay.map(function (expr) {\n      return expr.expression + \" (\" + round(expr.probability) + \")\";\n    }), anchor);\n    drawTextField.draw(canvasArg);\n  });\n}","map":{"version":3,"mappings":"AAAA,SAAiBA,KAAjB,QAA8B,YAA9B;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SAASC,qBAAT,QAA2D,kCAA3D;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAIA,OAAM,SAAUC,mBAAV,CACJC,SADI,EAEJC,eAFI,EAGJC,aAHI,EAIJC,eAJI,EAIoB;AADxB;AAAAD;AAAmB;;AAGnB,MAAME,oBAAoB,GAAGC,KAAK,CAACC,OAAN,CAAcL,eAAd,IAAiCA,eAAjC,GAAmD,CAACA,eAAD,CAAhF;AAEAG,sBAAoB,CAACG,OAArB,CAA6B,aAAC;AAC5B,QAAMC,IAAI,GAAGC,CAAC,YAAYf,eAAb,GACTe,CADS,GAERb,qBAAqB,CAACa,CAAD,CAArB,GAA2BA,CAAC,CAACC,WAA7B,GAA2CC,SAFhD;;AAGA,QAAI,CAACH,IAAL,EAAW;AACT,YAAM,IAAII,KAAJ,CAAU,iHAAV,CAAN;AACD;;AAED,QAAMC,MAAM,GAAGL,IAAI,CAACM,aAAL,EAAf;AACA,QAAMC,gBAAgB,GAAGF,MAAM,CAACG,MAAP,CAAc,gBAAI;AAAI,iBAAI,CAACC,WAAL,GAAmBf,aAAnB;AAAgC,KAAtD,CAAzB;AAEA,QAAMgB,MAAM,GAAGvB,mBAAmB,CAACc,CAAD,CAAnB,GACXA,CAAC,CAACU,SAAF,CAAYC,GAAZ,CAAgBC,UADL,GAEVlB,eAAe,IAAI,IAAIV,KAAJ,CAAU,CAAV,EAAa,CAAb,CAFxB;AAIA,QAAM6B,aAAa,GAAG,IAAIxB,aAAJ,CACpBiB,gBAAgB,CAACQ,GAAjB,CAAqB,gBAAI;AAAI,aAAGf,IAAI,CAACgB,UAAL,GAAe,IAAf,GAAoB3B,KAAK,CAACW,IAAI,CAACS,WAAN,CAAzB,GAA2C,GAA9C;AAAiD,KAA9E,CADoB,EAEpBC,MAFoB,CAAtB;AAIAI,iBAAa,CAACG,IAAd,CAAmBzB,SAAnB;AACD,GApBD;AAqBD","names":["Point","FaceExpressions","isWithFaceDetection","isWithFaceExpressions","round","DrawTextField","drawFaceExpressions","canvasArg","faceExpressions","minConfidence","textFieldAnchor","faceExpressionsArray","Array","isArray","forEach","expr","e","expressions","undefined","Error","sorted","asSortedArray","resultsToDisplay","filter","probability","anchor","detection","box","bottomLeft","drawTextField","map","expression","draw"],"sources":["../../../src/draw/drawFaceExpressions.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}