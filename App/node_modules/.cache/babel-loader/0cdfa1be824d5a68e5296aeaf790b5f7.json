{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport * as tf from '@tensorflow/tfjs-core';\nimport { env } from '../env';\nimport { isTensor4D } from '../utils';\nexport function imageTensorToCanvas(imgTensor, canvas) {\n  return __awaiter(this, void 0, void 0, function () {\n    var targetCanvas, _a, height, width, numChannels, imgTensor3D;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          targetCanvas = canvas || env.getEnv().createCanvasElement();\n          _a = imgTensor.shape.slice(isTensor4D(imgTensor) ? 1 : 0), height = _a[0], width = _a[1], numChannels = _a[2];\n          imgTensor3D = tf.tidy(function () {\n            return imgTensor.as3D(height, width, numChannels).toInt();\n          });\n          return [4\n          /*yield*/\n          , tf.browser.toPixels(imgTensor3D, targetCanvas)];\n\n        case 1:\n          _b.sent();\n\n          imgTensor3D.dispose();\n          return [2\n          /*return*/\n          , targetCanvas];\n      }\n    });\n  });\n}","map":{"version":3,"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,uBAApB;AAEA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,UAAT,QAA2B,UAA3B;AAEA,OAAM,SAAgBC,mBAAhB,CACJC,SADI,EAEJC,MAFI,EAEsB;;;;;;;AAGpBC,sBAAY,GAAGD,MAAM,IAAIJ,GAAG,CAACM,MAAJ,GAAaC,mBAAb,EAAzB;AAEAC,eAA+BL,SAAS,CAACM,KAAV,CAAgBC,KAAhB,CAAsBT,UAAU,CAACE,SAAD,CAAV,GAAwB,CAAxB,GAA4B,CAAlD,CAA/B,EAACQ,MAAM,QAAP,EAASC,KAAK,QAAd,EAAgBC,WAAW,QAA3B;AACAC,qBAAW,GAAGf,EAAE,CAACgB,IAAH,CAAQ;AAAM,4BAAS,CAACC,IAAV,CAAeL,MAAf,EAAuBC,KAAvB,EAA8BC,WAA9B,EAA2CI,KAA3C;AAAkD,WAAhE,CAAd;AACN;AAAA;AAAA,YAAMlB,EAAE,CAACmB,OAAH,CAAWC,QAAX,CAAoBL,WAApB,EAAiCT,YAAjC,CAAN;;;AAAAe;;AAEAN,qBAAW,CAACO,OAAZ;AAEA;AAAA;AAAA,YAAOhB,YAAP;;;;AACD","names":["tf","env","isTensor4D","imageTensorToCanvas","imgTensor","canvas","targetCanvas","getEnv","createCanvasElement","_a","shape","slice","height","width","numChannels","imgTensor3D","tidy","as3D","toInt","browser","toPixels","_b","dispose"],"sources":["../../../src/dom/imageTensorToCanvas.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}