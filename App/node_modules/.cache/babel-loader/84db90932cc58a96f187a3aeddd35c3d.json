{"ast":null,"code":"import { FaceDetection } from '../classes/FaceDetection';\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\nimport { isWithFaceDetection } from './WithFaceDetection';\nexport function isWithFaceLandmarks(obj) {\n  return isWithFaceDetection(obj) && obj['landmarks'] instanceof FaceLandmarks && obj['unshiftedLandmarks'] instanceof FaceLandmarks && obj['alignedRect'] instanceof FaceDetection;\n}\nexport function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {\n  var shift = sourceObj.detection.box;\n  var landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);\n  var rect = landmarks.align();\n  var imageDims = sourceObj.detection.imageDims;\n  var alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);\n  var extension = {\n    landmarks: landmarks,\n    unshiftedLandmarks: unshiftedLandmarks,\n    alignedRect: alignedRect\n  };\n  return Object.assign({}, sourceObj, extension);\n}","map":{"version":3,"mappings":"AAAA,SAASA,aAAT,QAA8B,0BAA9B;AACA,SAASC,aAAT,QAA8B,0BAA9B;AAEA,SAASC,mBAAT,QAAuD,qBAAvD;AAWA,OAAM,SAAUC,mBAAV,CAA8BC,GAA9B,EAAsC;AAC1C,SAAOF,mBAAmB,CAACE,GAAD,CAAnB,IACFA,GAAG,CAAC,WAAD,CAAH,YAA4BH,aAD1B,IAEFG,GAAG,CAAC,oBAAD,CAAH,YAAqCH,aAFnC,IAGFG,GAAG,CAAC,aAAD,CAAH,YAA8BJ,aAHnC;AAID;AAED,OAAM,SAAUK,uBAAV,CAIJC,SAJI,EAKJC,kBALI,EAK8B;AAG1B;AACR,MAAMC,SAAS,GAAGD,kBAAkB,CAACE,OAAnB,CAA2CC,KAAK,CAACC,CAAjD,EAAoDD,KAAK,CAACE,CAA1D,CAAlB;AAEA,MAAMC,IAAI,GAAGL,SAAS,CAACM,KAAV,EAAb;AACQ;AACR,MAAMC,WAAW,GAAG,IAAIf,aAAJ,CAAkBM,SAAS,CAACU,SAAV,CAAoBC,KAAtC,EAA6CJ,IAAI,CAACK,OAAL,CAAaC,SAAS,CAACC,OAAV,EAAb,CAA7C,EAAgFD,SAAhF,CAApB;AAEA,MAAME,SAAS,GAAG;AAChBb,aAAS,WADO;AAEhBD,sBAAkB,oBAFF;AAGhBQ,eAAW;AAHK,GAAlB;AAMA,SAAOO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBjB,SAAlB,EAA6Be,SAA7B,CAAP;AACD","names":["FaceDetection","FaceLandmarks","isWithFaceDetection","isWithFaceLandmarks","obj","extendWithFaceLandmarks","sourceObj","unshiftedLandmarks","landmarks","shiftBy","shift","x","y","rect","align","alignedRect","detection","score","rescale","imageDims","reverse","extension","Object","assign"],"sources":["../../../src/factories/WithFaceLandmarks.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}