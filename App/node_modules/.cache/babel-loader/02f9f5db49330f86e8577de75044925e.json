{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { convLayer } from '../common';\nimport { sharedLayer } from './sharedLayers';\nexport function PNet(x, params) {\n  return tf.tidy(function () {\n    var out = sharedLayer(x, params, true);\n    var conv = convLayer(out, params.conv4_1, 'valid');\n    var max = tf.expandDims(tf.max(conv, 3), 3);\n    var prob = tf.softmax(tf.sub(conv, max), 3);\n    var regions = convLayer(out, params.conv4_2, 'valid');\n    return {\n      prob: prob,\n      regions: regions\n    };\n  });\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,uBAApB;AAEA,SAASC,SAAT,QAA0B,WAA1B;AACA,SAASC,WAAT,QAA4B,gBAA5B;AAGA,OAAM,SAAUC,IAAV,CAAeC,CAAf,EAA+BC,MAA/B,EAAiD;AACrD,SAAOL,EAAE,CAACM,IAAH,CAAQ;AAEb,QAAIC,GAAG,GAAGL,WAAW,CAACE,CAAD,EAAIC,MAAJ,EAAY,IAAZ,CAArB;AACA,QAAMG,IAAI,GAAGP,SAAS,CAACM,GAAD,EAAMF,MAAM,CAACI,OAAb,EAAsB,OAAtB,CAAtB;AACA,QAAMC,GAAG,GAAGV,EAAE,CAACW,UAAH,CAAcX,EAAE,CAACU,GAAH,CAAOF,IAAP,EAAa,CAAb,CAAd,EAA+B,CAA/B,CAAZ;AACA,QAAMI,IAAI,GAAGZ,EAAE,CAACa,OAAH,CAAWb,EAAE,CAACc,GAAH,CAAON,IAAP,EAAaE,GAAb,CAAX,EAA8B,CAA9B,CAAb;AACA,QAAMK,OAAO,GAAGd,SAAS,CAACM,GAAD,EAAMF,MAAM,CAACW,OAAb,EAAsB,OAAtB,CAAzB;AAEA,WAAO;AAAEJ,UAAI,MAAN;AAAQG,aAAO;AAAf,KAAP;AACD,GATM,CAAP;AAUD","names":["tf","convLayer","sharedLayer","PNet","x","params","tidy","out","conv","conv4_1","max","expandDims","prob","softmax","sub","regions","conv4_2"],"sources":["../../../src/mtcnn/PNet.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}