{"ast":null,"code":"import { env } from '../env';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nimport { isMediaLoaded } from './isMediaLoaded';\nexport function createCanvas(_a) {\n  var width = _a.width,\n      height = _a.height;\n  var createCanvasElement = env.getEnv().createCanvasElement;\n  var canvas = createCanvasElement();\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\nexport function createCanvasFromMedia(media, dims) {\n  var ImageData = env.getEnv().ImageData;\n\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\n    throw new Error('createCanvasFromMedia - media has not finished loading yet');\n  }\n\n  var _a = dims || getMediaDimensions(media),\n      width = _a.width,\n      height = _a.height;\n\n  var canvas = createCanvas({\n    width: width,\n    height: height\n  });\n\n  if (media instanceof ImageData) {\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0);\n  } else {\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\n  }\n\n  return canvas;\n}","map":{"version":3,"mappings":"AACA,SAASA,GAAT,QAAoB,QAApB;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAEA,OAAM,SAAUC,YAAV,CAAuBC,EAAvB,EAAqD;MAA5BC;MAAOC;AAE5B;AACR,MAAMC,MAAM,GAAGC,mBAAmB,EAAlC;AACAD,QAAM,CAACF,KAAP,GAAeA,KAAf;AACAE,QAAM,CAACD,MAAP,GAAgBA,MAAhB;AACA,SAAOC,MAAP;AACD;AAED,OAAM,SAAUE,qBAAV,CAAgCC,KAAhC,EAAwFC,IAAxF,EAA0G;AAEtG;;AAER,MAAI,EAAED,KAAK,YAAYE,SAAnB,KAAiC,CAACV,aAAa,CAACQ,KAAD,CAAnD,EAA4D;AAC1D,UAAM,IAAIG,KAAJ,CAAU,4DAAV,CAAN;AACD;;AAEK;AAAA,MAAER,gBAAF;AAAA,MAASC,kBAAT;;AACN,MAAMC,MAAM,GAAGJ,YAAY,CAAC;AAAEE,SAAK,OAAP;AAASC,UAAM;AAAf,GAAD,CAA3B;;AAEA,MAAII,KAAK,YAAYE,SAArB,EAAgC;AAC9BZ,uBAAmB,CAACO,MAAD,CAAnB,CAA4BO,YAA5B,CAAyCJ,KAAzC,EAAgD,CAAhD,EAAmD,CAAnD;AACD,GAFD,MAEO;AACLV,uBAAmB,CAACO,MAAD,CAAnB,CAA4BQ,SAA5B,CAAsCL,KAAtC,EAA6C,CAA7C,EAAgD,CAAhD,EAAmDL,KAAnD,EAA0DC,MAA1D;AACD;;AACD,SAAOC,MAAP;AACD","names":["env","getContext2dOrThrow","getMediaDimensions","isMediaLoaded","createCanvas","_a","width","height","canvas","createCanvasElement","createCanvasFromMedia","media","dims","ImageData","Error","putImageData","drawImage"],"sources":["../../../src/dom/createCanvas.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}