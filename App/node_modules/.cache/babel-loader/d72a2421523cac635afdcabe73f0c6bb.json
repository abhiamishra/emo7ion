{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { env } from '../env';\nexport function fetchOrThrow(url, init) {\n  return __awaiter(this, void 0, void 0, function () {\n    var fetch, res;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          fetch = env.getEnv().fetch;\n          return [4\n          /*yield*/\n          , fetch(url, init)];\n\n        case 1:\n          res = _a.sent();\n\n          if (!(res.status < 400)) {\n            throw new Error(\"failed to fetch: (\" + res.status + \") \" + res.statusText + \", from url: \" + res.url);\n          }\n\n          return [2\n          /*return*/\n          , res];\n      }\n    });\n  });\n}","map":{"version":3,"mappings":";AAAA,SAASA,GAAT,QAAoB,QAApB;AAEA,OAAM,SAAgBC,YAAhB,CACJC,GADI,EAEJC,IAFI,EAEc;;;;;;AAGZC,eAAK,GAAGJ,GAAG,CAACK,MAAJ,GAAaD,KAArB;AACM;AAAA;AAAA,YAAMA,KAAK,CAACF,GAAD,EAAMC,IAAN,CAAX;;;AAANG,aAAG,GAAGC,SAAN;;AACN,cAAI,EAAED,GAAG,CAACE,MAAJ,GAAa,GAAf,CAAJ,EAAyB;AACvB,kBAAM,IAAIC,KAAJ,CAAU,uBAAqBH,GAAG,CAACE,MAAzB,GAA+B,IAA/B,GAAoCF,GAAG,CAACI,UAAxC,GAAkD,cAAlD,GAAiEJ,GAAG,CAACJ,GAA/E,CAAN;AACD;;AACD;AAAA;AAAA,YAAOI,GAAP;;;;AACD","names":["env","fetchOrThrow","url","init","fetch","getEnv","res","_a","status","Error","statusText"],"sources":["../../../src/dom/fetchOrThrow.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}